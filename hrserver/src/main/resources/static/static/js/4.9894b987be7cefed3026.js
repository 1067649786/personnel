webpackJsonp([4],{"4/RD":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){return{dialogVisible:!1,tableLoading:!1,index:0,salaries:[],multipleSelection:[],salary:{id:"",depName:"",peopleCount:"",joinCount:""}}},methods:{deleteAll:function(){var t=this;this.$confirm("删除["+this.multipleSelection.length+"]条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e="";t.multipleSelection.forEach(function(t){e=e+t.id+","}),t.doDelete(e)}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t},handleEdit:function(t,e){this.dialogVisible=!0,e.createDate=new Date(e.createDate),delete e.allSalary,this.salary=e},handleDelete:function(t,e){var a=this;this.$confirm("删除["+e.name+"]账套, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.doDelete(e.id)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},doDelete:function(t){var e=this;e.tableLoading=!0,this.deleteRequest("/salary/sob/salary/"+t).then(function(t){if(e.tableLoading=!1,t&&200==t.status){t.data;e.loadSalaryCfg()}})},next:function(){var t=this,e=this;7==this.index?this.salary.createDate&&this.salary.basicSalary&&this.salary.trafficSalary&&this.salary.lunchSalary&&this.salary.bonus&&this.salary.pensionBase&&this.salary.pensionPer&&this.salary.medicalBase&&this.salary.medicalPer&&this.salary.accumulationFundBase&&this.salary.accumulationFundPer?this.salary.id?(e.tableLoading=!0,this.putRequest("/salary/sob/salary",this.salary).then(function(t){if(e.tableLoading=!1,t&&200==t.status){t.data;_,e.dialogVisible=!1,e.index=0,e.loadSalaryCfg()}})):this.$prompt("请输入账套名称","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(a){var i=a.value;t.salary.name=i,t.postRequest("/salary/sob/salary",t.salary).then(function(t){if(t&&200==t.status){t.data;e.dialogVisible=!1,e.index=0,e.loadSalaryCfg()}})}).catch(function(){}):this.$message({type:"error",message:"字段不能为空!"}):this.index++},loadSalaryCfg:function(){this.tableLoading=!0;var t=this;this.getRequest("/statistics/all/info").then(function(e){t.tableLoading=!1,e&&200==e.status&&(t.salaries=e.data)})},emptySalary:function(){this.salary={id:"",depName:"",peopleCount:"",joinCount:""},this.index=0}},mounted:function(){this.loadSalaryCfg()}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-container",[e("el-header",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center","padding-left":"0px"}},[e("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-refresh"},on:{click:this.loadSalaryCfg}})],1),this._v(" "),e("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[e("div",[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:this.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:this.salaries,stripe:"",size:"mini"}},[e("el-table-column",{attrs:{"min-width":"20%",prop:"depName",align:"center",label:"部门名称"}}),this._v(" "),e("el-table-column",{attrs:{"min-width":"20%",prop:"peopleCount",align:"center",label:"部门人数"}}),this._v(" "),e("el-table-column",{attrs:{align:"center",prop:"joinCount","min-width":"20%",label:"调入人数"}})],1)],1)])],1)],1)},staticRenderFns:[]};var l=a("VU/8")(i,n,!1,function(t){a("bmg0")},null,null);e.default=l.exports},Ju9y:function(t,e){},Tlrr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){return{dialogVisible:!1,tableLoading:!1,index:0,salaries:[],multipleSelection:[],salary:{id:"",eid:"",type:"",tDate:"",remark:""}}},methods:{deleteAll:function(){var t=this;this.$confirm("删除["+this.multipleSelection.length+"]条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e="";t.multipleSelection.forEach(function(t){e=e+t.id+","}),t.doDelete(e)}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t},handleEdit:function(t,e){this.dialogVisible=!0,e.createDate=new Date(e.createDate),delete e.allSalary,this.salary=e},handleDelete:function(t,e){var a=this;this.$confirm("删除["+e.name+"]账套, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.doDelete(e.id)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},doDelete:function(t){var e=this;e.tableLoading=!0,this.deleteRequest("/salary/sob/salary/"+t).then(function(t){if(e.tableLoading=!1,t&&200==t.status){t.data;e.loadSalaryCfg()}})},next:function(){var t=this,e=this;7==this.index?this.salary.createDate&&this.salary.basicSalary&&this.salary.trafficSalary&&this.salary.lunchSalary&&this.salary.bonus&&this.salary.pensionBase&&this.salary.pensionPer&&this.salary.medicalBase&&this.salary.medicalPer&&this.salary.accumulationFundBase&&this.salary.accumulationFundPer?this.salary.id?(e.tableLoading=!0,this.putRequest("/salary/sob/salary",this.salary).then(function(t){if(e.tableLoading=!1,t&&200==t.status){t.data;_,e.dialogVisible=!1,e.index=0,e.loadSalaryCfg()}})):this.$prompt("请输入账套名称","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(a){var i=a.value;t.salary.name=i,t.postRequest("/salary/sob/salary",t.salary).then(function(t){if(t&&200==t.status){t.data;e.dialogVisible=!1,e.index=0,e.loadSalaryCfg()}})}).catch(function(){}):this.$message({type:"error",message:"字段不能为空!"}):this.index++},loadSalaryCfg:function(){this.tableLoading=!0;var t=this;this.getRequest("/statistics/recored/personnel").then(function(e){t.tableLoading=!1,e&&200==e.status&&(t.salaries=e.data)})},emptySalary:function(){this.salary={id:"",eid:"",type:"",tDate:"",remark:""},this.index=0}},mounted:function(){this.loadSalaryCfg()}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-container",[a("el-header",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center","padding-left":"0px"}},[a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-refresh"},on:{click:t.loadSalaryCfg}})],1),t._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:t.salaries,stripe:"",size:"mini"}},[a("el-table-column",{attrs:{width:"120",prop:"eid",align:"center",label:"员工编号"}}),t._v(" "),a("el-table-column",{attrs:{width:"200",prop:"type",align:"center",label:"调动/奖惩/培训/调薪"}}),t._v(" "),a("el-table-column",{attrs:{width:"100",align:"center",label:"时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("formatDate")(e.row.tDate)))]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"remark",label:"备注"}})],1)],1)])],1)],1)},staticRenderFns:[]};var l=a("VU/8")(i,n,!1,function(t){a("Ju9y")},null,null);e.default=l.exports},bmg0:function(t,e){},nCU1:function(t,e,a){var i={"./StaAll.vue":"4/RD","./StaRecord.vue":"Tlrr"};function n(t){return a(l(t))}function l(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}n.keys=function(){return Object.keys(i)},n.resolve=l,t.exports=n,n.id="nCU1"}});
//# sourceMappingURL=4.9894b987be7cefed3026.js.map